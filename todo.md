# todo

## 工場設計システム
- [ ] 工場施設配置システムを実装する
	- [ ] プレイヤーインベントリ（パレット）を作成する（マインクラフトのようなUIを想定）
		- [x] Palette: シーンロード時に9スロットが初期化されている
		- [x] Palette: アクティブスロットはデフォルトでインデックス0に設定されている
		- [x] Palette: 数字キー入力（1-9）で対応スロットがアクティブになる
		- [x] Palette: 無効なキー入力ではアクティブスロットが変わらない
		- [x] Palette: アクティブスロットのハイライト状態が変更に追随する
		- [x] Palette: 各スロットに対応するピース種が割り当てられている（1=BAR, 2=WORM, 3=PISTOL, 4=PROPELLER, 5=ARCH, 6=BEE, 7=WAVE）
		- [x] Palette: 割り当てピースの取得APIを提供する
	- [ ] ピース配置システム
		- [x] MainScene: 左クリックでアクティブピースをグリッドに配置する
		- [x] MainScene: 配置済みタイルが占有済みの場合は配置できない
		- [x] MainScene: 選択ピースを切り替えると配置される形状が変わる
		- [x] MainScene: アクティブピースのプレビューがカーソルに追随する
		- [x] MainScene: 右クリックでプレビュー位置にピースを確定配置する
	- [ ] パレットUIを実装する
		- [x] PaletteUI: シーン生成時に9つのスロットノードが作成される
		- [x] PaletteUI: アクティブスロット変更シグナルでハイライトが更新される
		- [x] PaletteUI: メインシーンの画面下部に配置される
		- [ ] PaletteUI: ツリー未接続でもパレットデータ取得が安全に行える
	- [ ] 1から9の数字キー入力で該当のピースを「持つ」ことが出来る
	- [ ] マウスホイールで１から９のピースを指定できる
	- [ ] 指定された、あるいは「持つ」状態のピースはハイライトされる（これもマイクラと同じ）
	- [ ] 配置プレビュー機能を実装（詳しくはUnityで実装したバージョンを参考に）
	- [ ] 施設の配置を実装する
	- [ ] 施設の削除、移動機能を実装する。
- [ ] 基本的な生産ユニット実装
- [ ] アイテム運搬システム

## 将来的な機能拡張
- [ ] レシピシステム（料理ベース）
- [ ] ユニット化機能（shapez2ライク）
- [ ] 簡易ターンバトルシステム
- [ ] バイオームシステムと探索要素
- [ ] elinやstoneshardなどのワールドとローカルのマップ移動
- [ ] rise to ruinsやfactorioなどの汚染要素（敵との領土戦争要素）
- [ ] ワールドの探索と資源の自動化ラインとの調和：
	- [ ] 自動化ユニットの生産速度を毎秒100個、などとするのではなく、一日当たりの生産量で表示する。
	- [ ] 4Xゲームのように、プレイヤーがターンを終了すると一日が終了し、工場の資源が手に入る。
  
## リファクタリング
- [ ] テストをグリーンにした後、@toolを使ってグリッドをエディタでも確認できるようにする。
- [ ]
