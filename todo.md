# todo

- [ ] ピースの実体化（Pieceノードの導入）
	- [x] Pieceクラスは初期化データを受け取り、タイプと座標を保持できる
	- [x] place_piece()が呼ばれると、Pieceノードが生成されシーンに追加される
	- [x] place_piece()で生成されたPieceノードは、正しい座標に配置される
	- [x] remove_piece_at()が呼ばれると、対象のPieceノードがqueue_freeされる
	- [x] remove_piece_at()が呼ばれると、GridManagerの内部管理マップからPieceが削除される

- [ ] Pieceの機能拡張
	- [x] Pieceはインベントリを持ち、アイテムを追加・取得できる
	- [x] Piece上にインベントリ数を表示するUIが表示される
	- [x] Pieceは時間経過(tick)で状態を更新できる

- [ ] ピース操作の改善 (shapezスタイル)
	- [x] 右クリックによるピース選択解除
		- [x] ピースを選択しているとき、右クリックを押すと選択が解除される（パレットの選択インデックスが-1になる）
	- [x] 素手状態での右クリックによるピース削除
		- [x] ピースを選択していない（素手）とき、配置済みのピース上で右クリックを押すと, そのピースが削除される
		- [x] ピースを選択しているとき、右クリックを押してもピースの削除は行われない（解除が優先される）

- [ ] アイテム輸送の基本実装
	- [x] 新規ピースタイプ: SimpleChest (1マス, 貯めるだけ) の追加
	- [x] GridManager: 指定したHexの隣接HexにあるPieceを取得できる
	- [x] Piece: 隣接する受け入れ可能なピースへアイテムを自動的に移動する（Push型）
	- [x] 統合テスト: 生産者から隣接する消費者へアイテムが移動することを確認

## 将来的なタスク
- [ ] PaletteUI を Toolbar にリネームする

## メモなど（AIはこれを編集・削除しないでください）
- [ ] 回転ロジックのコードレビュー、重心の変更
- [ ] pallette uiをhexfrvrによせる。
- [ ] マウスオーバーでピースの詳細情報ラベルが表示される
- [ ] tick更新タイミングをゲーム内で同期させる。
