- [x] マウスポインタのhex座標を取得し、表示する
- [x] デバッグモードを実装する（F2キー押下でトグル）
    - [x] hexにaxial座標をオーバーレイで表示する。
- [x] playerを作成（画像はassets/icon.svgを使用）
    - [ ] playerの動きを作成：クリックした座標に向かう
        - [x] Player基盤修正（CharacterBody2D対応）
        - [x] クリック検出システム実装
        - [x] Player移動システム実装
        - [x] 移動実行処理実装
        - [ ] 移動完了処理実装
            - [x] 移動中の入力制御機能を実装
                - [x] 移動中はマウスクリックによる新たな目的地設定を無効化
                - [x] 移動中のマウスホバープレビューは継続して表示
                - [x] 移動完了時に入力ロックを解除
            - [ ] redblobgamesを参考に、pathfindingのコードを実装する。
                - [x] HexGraphクラスを作成（hex座標系のGraph実装）
                - [x] PriorityQueueクラスをGDScriptで実装
                - [x] A*アルゴリズム基本実装（AStarPathfinderクラス）
                - [x] Hex座標用ヒューリスティック関数実装
                - [x] パス復元機能実装
                - [x] Player.calculate_movement_path()をA*に置換
                - [ ] 障害物対応（GridManagerとの連携）
                - [ ] 統合テストとパフォーマンス確認
        - [x] playerがhexの中央に位置するようにする
            - [x] test_Playerは初期化時にhex座標00の中央に配置される
            - [x] test_setup_grid_layoutでグリッドレイアウトが設定される
            - [x] test_update_position_to_hex_centerで正確な中央位置に配置される
            - [x] test_移動完了時にhexの中央に配置される
            - [x] test_各hexステップでの中央位置補正が動作する
        - [x] 移動する際、道のりをハイライトするようにする。
            - [x] playerが動いているときはハイライトを無効にする（新たな経路を選択不可なため）
            - [x] ハイライトする際、経路の始点（プレイヤーの現在地）もハイライトタイルに含める。
            - [x] 道のりをたどる線を描画する
- [ ] playerがgridの外に移動できてしまう問題を解決する。
    - [ ] グリッド境界の定義と検証ロジック実装
        - [ ] hex座標がグリッド境界内かを判定するis_within_bounds()メソッド実装
        - [ ] グリッド半径を基準とした境界チェック機能実装
    - [ ] クリック座標の境界チェック実装
        - [ ] マウスクリック時にターゲットhexが境界内かを検証
        - [ ] 境界外クリック時の適切なフィードバック実装
    - [ ] 経路計算での境界制約実装
        - [ ] A*パスファインディングでの境界チェック統合
        - [ ] 境界外への経路計算を防止
    - [ ] プレビューハイライトでの境界制約実装
        - [ ] ホバー時の境界外hex座標での適切な処理
        - [ ] 境界外領域でのプレビュー無効化


- [ ] playerのインベントリを作成
- [ ] playerのインベントリから建造物（tetrahexユニット）を配置できるようにする。

## リファクタリング
- [ ] 本来はevent.positionを変換して使うべき実装を正す。

## 将来的な機能拡張
- [ ] 移動中の経路変更機能（高コスト実装）
    - [ ] 移動中断・再開機能の実装
    - [ ] 現在位置の正確な取得（ピクセル座標からhex座標変換）
    - [ ] 滑らかな経路切り替え処理
    - [ ] 移動中の新目標設定時の経路再計算
    - [ ] UX改善：経路変更時のビジュアルフィードバック
- [ ] 経路ライン描画の改善（現在は正しく描画されない問題がある）
    - [ ] Line2Dの適切な描画タイミングの実装
    - [ ] 経路ラインの視覚的改善（色、太さ、アンチエイリアシング等）
    - [ ] パフォーマンス最適化（長い経路での描画負荷軽減）
  