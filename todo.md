# todo

## 直近のタスク: 施設情報の常時可視化
- [x] アイテムデータベース (`ItemDB`) の実装
	- [x] アイテム定義 (`ItemDefinition`) クラスの作成
	- [x] アイテムIDから定義を取得する `ItemDB` クラスの実装
	- [x] 仮のアイテムアイコンを用意し、DBに登録する
- [x] ピース上のアイコン表示
	- [x] `Piece` シーンにアイコン表示用の `Sprite2D` を追加する
	- [x] ピースの役割に応じて表示するアイコンを決定・更新するロジックを実装する
		- [x] Miner: 採掘対象
		- [x] Smelter/Assembler: レシピの成果物
		- [x] Chest: 格納アイテム
- [x] プログレスバーの導入
	- [x] `Piece` シーンに `ProgressBar` を追加する（スタイリング含む）
	- [x] `tick` 内で `processing_progress` に応じてバーの値を更新する
- [x] インプットインベントリと生産速度の可視化
	- [x] `Piece` シーンのUI構造を拡張する（Input/Output/Speed表示用）
	- [x] `Piece` クラスにInputアイテムを表示するロジックを追加する
	- [x] `Piece` クラスに生産速度（例: 60/min）を表示するロジックを追加する
	- [x] Input/Outputそれぞれの個数表示を確実に行う

## 詳細表示モードの実装 (Tキーでトグル)
- [x] `Piece` クラスに `set_detail_mode(enabled: bool)` メソッドを実装する
- [x] 詳細情報（詳細なインベントリリストなど）の表示切替
	- [x] Inputアイコン、生産速度、Output数は詳細モード時のみ表示
	- [x] Tキーで切替可能

## 将来的なタスク
- [ ] ピース内部をアイテムが通過するアニメーション
- [ ] 詳細表示モードによる、ピース内のインプットインベントリ等の表示
- [ ] クリックでパレットからピースを選択できるようにする
- [ ] ピースの種類を増やす（テトラへクス以外にも色々）
- [ ] ピースをグループ化し、パレットでカテゴリごとに表示する。
- [ ] 

## 完了済みマイルストーン (Archive)
- [x] リファクタリング (PieceShapesリネーム, テスト改善)
- [x] 単純加工プロセスの実装 (Recipe, Smelter, Assembler)
- [x] ピースの実体化と配置システム
- [x] ポートシステムとアイテム輸送の基本実装
- [x] インベントリの分離 (Input/Output) と素通り防止
- [x] Input制約の緩和 (全方向受け入れ)

## メモなど（AIはこれを編集・削除しないでください）
- [ ] 回転ロジックのコードレビュー、重心の変更
- [ ] pallette uiをhexfrvrによせる。
- [ ] マウスオーバーでピースの詳細情報ラベルが表示される
