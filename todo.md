# todo

## ゲームプレイ・コンテンツ
### 自動化要素の強化
- [ ] 裁断機やプレス機など、ほかのroleも追加する
- [ ] 鉄パイプ、強化鉄板のレシピを追加する
- [ ] グリッドのランダムなヘックスに納品所を設置する実装を行う

### ゲームの別路線の開拓（戦闘要素）
- [ ] 新しいシーンを作成し、グリッドを作成する
- [ ] グリッドの上をキャラクターが移動したり（chessのような感じ）、敵と戦ったりできる要素（gloomhavenなど）

## リファクタリング
### piece, test_piece関連
- [ ] outputを示す矢印を動的生成しているのをやめて、フリーの素材などを使う。
- [ ] pieceクラスにおいて、機能部分とview部分が混在しているので, これを修正するべきか検討する
	- [ ] statusiconの更新などはstatusiconシーンにスクリプトをアタッチするなど
- [ ] チェスト(Storage)などのピースタイプに応じて、ItemContainerコンポーネントの生成構成を最適化する（Input/Outputで実体を共有するなど）
- [ ] crafter.gdにある、0.001等のマジックナンバーは不吉な臭いなので、これを修正する
- [ ] piece.gd: destinationよりもconnected_pieceの方が分かりやすいか、命名変更を検討する。
- [ ] PIECE_SCENEを使っているところを削除し、Piece.new()で代用する（純粋な単体テスト化）

### それ以外
- [ ] grid_managerのテストコードに内部クラスを追加して構造化する
- [ ] grid_managerの責務が膨大となっているので、これを分離する
- [ ] test_main: 内部クラスに整理し、命名を日本語に統一する
- [ ] paletteとpalette_uiの責務分離が分かりづらい。統合したほうが良いか検討する。
- [ ] item_dbをtresファイルを使ったリソースファイルへ移行する
- [ ] HUDがPiecePlacerを知っているのは密結合なので、これを修正する
	- [ ] HUDは「何番のスロットが選ばれたか」という シグナル（signal） を発行するだけに留める
	- [ ] それをmainが受け取って PiecePlacer を動かす形にする


## 検討中のタスク・メモなど（AIはこれを編集・削除しないでください）
- [ ] マウスホイールでツールバーに割り当てられたピースの選択ができるようにする
- [ ] ポート回転ロジック(get_rotate_portsなど)は、hexクラス等に共通化できるかも。検討する
- [ ] 詳細表示モード時に、インプットとアウトプットの表示が重なる問題を修正する（レイアウト調整）。
- [ ] pallette uiをhexfrvrによせる。
- [ ] ピースの種類を増やす（テトラへクス以外にも色々）
- [ ] ピースをグループ化し、パレットでカテゴリごとに表示する。
- [ ] マウスオーバーで設置済みピースの詳細情報ラベルが表示される
